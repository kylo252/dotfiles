#!/usr/bin/env zsh

# disable the goddamn beep!
unsetopt BEEP

# set locale for perl
export LANG=en_US.UTF-8
export LANGUAGE=en_US.UTF-8

export HISTSIZE=10000
export HISTFILESIZE=10000
export SAVEHIST=10000
export HISTIGNORE="ls:ps:history"
setopt SHARE_HISTORY

export EDITOR=nvim
export ZSHRC=~/.zshrc.user     

export MANPAGER="sh -c 'col -bx | bat -l man -p'"
export BAT_PAGER="less -RF"

export FZF_DEFAULT_OPTS="--height 40% --layout=reverse  --multi \
    --prompt='∼ ' --pointer='▶' --marker='✓' \
    --bind '?:toggle-preview' \
    --bind 'ctrl-a:select-all' \
    --bind 'ctrl-y:execute-silent(echo {+} | xcopy)' \
    --bind 'ctrl-e:execute(echo {+} | xargs -o vim)' \
    --bind 'ctrl-v:execute(code {+})' "
export FZF_PREVIEW_DEFAULT_SETTING='--sync --height="80%" --preview-window="down:60%" --expect="ctrl-space" --header="C-Space: continue fzf completion"'
export FZF_DEFAULT_COMMAND='rg --files --hidden'
export FZF_CTRL_R_OPTS="--preview 'echo {}' --preview-window down:3:hidden:wrap --bind '?:toggle-preview' --bind 'ctrl-y:execute-silent(echo -n {2..} | xbcopy)+abort' --header 'Press CTRL-Y to copy command into clipboard' --border"
export FZF_PREVIEW_COMMAND="([[ -f {} ]] && (bat --style=numbers --color=always {} ||  tree -C {} || echo {} 2> /dev/null | head -200"


export NVM_LAZY_LOAD=true
export NVM_COMPLETION=true
# export NVM_NO_USE=true
export NVM_LAZY_LOAD_EXTRA_COMMANDS=('nvim')

export ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE="fg=#505050,italic,underline"
export ZSH_AUTOSUGGEST_USE_ASYNC="ON"
export ZSH_AUTOSUGGEST_BUFFER_MAX_SIZE=20

# zsh vim mode
export MODE_CURSOR_VIINS="blinking bar"
export MODE_CURSOR_REPLACE="$MODE_CURSOR_VIINS"
export MODE_CURSOR_VICMD="dark grey block"
export MODE_CURSOR_SEARCH="steady underline"
export MODE_CURSOR_VISUAL="$MODE_CURSOR_VICMD steady bar"
export MODE_CURSOR_VLINE="$MODE_CURSOR_VISUAL"
