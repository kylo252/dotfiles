#!/bin/bash

export XDG_CONFIG_HOME="$HOME/.config"
export XDG_CACHE_HOME="$HOME/.cache"
export XDG_DATA_HOME="$HOME/.local/share"
export BASHDOTDIR="$XDG_CONFIG_HOME/bash"

export HISTTIMEFORMAT="%h %d %H:%M:%S "
export HISTSIZE=100000
export HISTFILESIZE=2000000
export HISTFILE="$XDG_DATA_HOME/bash/history"
shopt -s histappend
export HISTIGNORE="ls:ps:history"
PROMPT_COMMAND='history -a'

if [ "$TERM_PROGRAM" = 'vscode' ]; then
    export WHO_AM_I="vscode"
    SDK_ENV="/repo/ekhhaga/sdk/R40A125/environment-setup-armv7a-vfp-neon-wrs-linux-gnueabi"
    [ -f "$SDK_ENV" ] && source "$SDK_ENV"
    #export LD_LIBRARY_PATH=/repo/ekhhaga/sdk/R40A125/sysroots/x86_64-wrlinuxsdk-linux/usr/lib/arm-wrs-linux-gnueabi/gcc/arm-wrs-linux-gnueabi/5.2.0/:/repo/ekhhaga/sdk/R40A125/sysroots/x86_64-wrlinuxsdk-linux/usr/lib/arm-wrs-linux-gnueabi/gcc/arm-wrs-linux-gnueabi/5.2.0/../../../../../arm-wrs-linux-gnueabi/lib/arm-wrs-linux-gnueabi/5.2.0/:/repo/ekhhaga/sdk/R40A125/sysroots/x86_64-wrlinuxsdk-linux/usr/lib/arm-wrs-linux-gnueabi/gcc/arm-wrs-linux-gnueabi/5.2.0/../../../../../arm-wrs-linux-gnueabi/lib/:/repo/ekhhaga/sdk/R40A125/sysroots/armv7a-vfp-neon-wrs-linux-gnueabi/lib/arm-wrs-linux-gnueabi/5.2.0/:/repo/ekhhaga/sdk/R40A125/sysroots/armv7a-vfp-neon-wrs-linux-gnueabi/lib/:/repo/ekhhaga/sdk/R40A125/sysroots/armv7a-vfp-neon-wrs-linux-gnueabi/usr/lib/arm-wrs-linux-gnueabi/5.2.0/:/repo/ekhhaga/sdk/R40A125/sysroots/armv7a-vfp-neon-wrs-linux-gnueabi/usr/lib:$LD_LIBRARY_PATH
    export CLANGD_FLAGS='--sysroot=/repo/ekhhaga/sdk/R40A125/sysroots/armv7a-vfp-neon-wrs-linux-gnueabi' # seems useless
    export CPLUS_INCLUDE_PATH="$SDKTARGETSYSROOT/usr/include/c++/5.2.0":$CPLUS_INCLUDE_PATH
    unset PYTHONHOME
    unset PYTHONPATH
else
    [ -f "${BASHDOTDIR:-$HOME}/env" ] && source "${BASHDOTDIR:-$HOME}/env"
fi

[ -f "${BASHDOTDIR:-$HOME}/.bash_aliases" ] && source "${BASHDOTDIR:-$HOME}/.bash_aliases"
[ -f "${BASHDOTDIR:-$HOME}/.bash_prompt" ] && source "${BASHDOTDIR:-$HOME}/.bash_prompt"
[ -f "${BASHDOTDIR:-$HOME}/.fzf.bash" ] && source "${BASHDOTDIR:-$HOME}/.fzf.bash"

